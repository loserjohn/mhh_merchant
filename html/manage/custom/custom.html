<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>客户档案</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../../../css/common.css" />
		<link rel="stylesheet" href="../../../css/iconfont.css" />
		<style>
			/*顾客列表*/
			
			.customsList {}
			.scrollBar{
				position: absolute;
				left: 0;
				right: 0;
				bottom: 0;
				/*background: pink;*/
			}
		</style>
	</head>

	<body>
		<div id="app" >
			<!--<div class="reset clearfix">-->
				<header class="mui-bar mui-bar-nav "  id="header">
					<a class="mui-action-back mui-pull-left">
						<i class="iconfont icon-xitongfanhui cm_back"></i>
					</a>
					<h1 class="mui-title">顾客档案</h1>
				</header>

				<!--资料项-->
				<div  id="scroll" :style="{top:scrollTop}" class="scrollBar">
					<ul class="mui-table-view  customsList">
						<!--历史顾客-->
						<li class="mui-table-view-cell mui-media" @tap="_jumpToDetail">
							<a class="mui-navigate-right">
								<img class="mui-media-object mui-pull-left" src="../../../images/demo1.jpg">
								<div class="mui-media-body">
									CBD
									<p class='mui-ellipsis'>历史订单数：<i class="iconfont icon-close "></i>5</p>
								</div>
							</a>
						</li>
						<li class="mui-table-view-cell mui-media" @tap="_jumpToDetail">
							<a class="mui-navigate-right">
								<img class="mui-media-object mui-pull-left" src="../../../images/demo1.jpg">
								<div class="mui-media-body">
									CBD
									<p class='mui-ellipsis'>历史订单数：<i class="iconfont icon-close "></i>5</p>
								</div>
							</a>
						</li>

					</ul>
				</div>
			<!--</div>-->
		</div>
		<script src="../../../js/mui.min.js"></script>
		<script src="../../../js/app.js"></script>
		<script src="../../../js/vue.js"></script>
		<script src="../../../js/aes.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">

			mui.plusReady(function(){
				app.WXinit(CryptoJS)
						var APP = new Vue({
								el: '#app',
								data: {
									scroll: '',
									message: '',
									scrollTop:''
								},
								created: function() {
									//							alert(1)
									app.initHeader();
								},
								mounted: function() {
									
									mui.init({
										swipeBack: false,
										pullRefresh: {
											container: "#scroll", //待刷新区域标识，querySelector能定位的css选择器均可，比如：id、.class等
											up: {
												height: 50, //可选.默认50.触发上拉加载拖动距离
												auto: true, //可选,默认false.自动上拉加载一次
												contentrefresh: "正在加载...", //可选，正在加载状态时，上拉加载控件上显示的标题内容
												contentnomore: '没有更多数据了', //可选，请求完毕若没有更多数据时显示的提醒内容；
												callback: function() {
													mui.later(function() {
														mui('#scroll').pullRefresh().endPullupToRefresh(true);
													}, 2000)
												} //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
											}
										}
									})
									var _this = this
									var scroll = this.$refs.scroll
									this.scrollTop = document.getElementById('header').offsetHeight+'px';
									
								},
								methods:{
									_jumpToDetail(key){
										mui.openWindow({
											url: './custom_detail.html',
											id: 'custom_detail',
											styles: {
												top: '0px', //新页面顶部位置
												bottom: '0px', //新页面底部位置
												scrollIndicator: "none",
												plusrequire: 'ahead'
											},
											createNew: true, //是否重复创建同样id的webview，默认为false:不重复创建，直接显示
											show: {
												autoShow: true, //页面loaded事件发生后自动显示，默认为true
												duration: 300 //页面动画持续时间，Android平台默认100毫秒，iOS平台默认200毫秒；
											},
											extras: {
												//自定义扩展参数，可以用来处理页面间传值  
											},
											waiting: {
												autoShow: true, //自动显示等待框，默认为true
												title: '正在加载...', //等待对话框上显示的提示内容
											}
										})
									}
								}
						})
						})
		</script>
	</body>

</html>